<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Persistence 1D incl. Reconstruct1D: persistence1d_driver.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Persistence 1D incl. Reconstruct1D
   &#160;<span id="projectnumber">1.3</span>
   </div>
   <div id="projectbrief">Finding extrema in one dimensional data, filtering them by persistence and reconstructing smooth functions</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_46ab56255c4804d93cb4e9c65c10c4a4.html">persistence1d</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">persistence1d_driver.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Use this program to run Persistence1D on data in text files.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="persistence1d_8hpp_source.html">persistence1d.hpp</a>&quot;</code><br />
<code>#include &lt;fstream&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;cstring&gt;</code><br />
</div>
<p><a href="persistence1d__driver_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:af0cc74d2fc87451c4d8b4ad8ed28e26d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="persistence1d__driver_8cpp.html#af0cc74d2fc87451c4d8b4ad8ed28e26d">MATLAB</a>&#160;&#160;&#160;&quot;-MATLAB&quot;</td></tr>
<tr class="separator:af0cc74d2fc87451c4d8b4ad8ed28e26d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2791f890d0435cf7221832aa9b795b02"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="persistence1d__driver_8cpp.html#a2791f890d0435cf7221832aa9b795b02">ReadFileToVector</a> (char *filename, vector&lt; float &gt; &amp;data)</td></tr>
<tr class="memdesc:a2791f890d0435cf7221832aa9b795b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tries to open the input file and read its contents to a float vector.  <a href="#a2791f890d0435cf7221832aa9b795b02">More...</a><br /></td></tr>
<tr class="separator:a2791f890d0435cf7221832aa9b795b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71cb6bbdcab328ddf0ac92737a15570c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="persistence1d__driver_8cpp.html#a71cb6bbdcab328ddf0ac92737a15570c">WriteExtremaToFile</a> (char *filename, vector&lt; <a class="el" href="structp1d_1_1_t_paired_extrema.html">TPairedExtrema</a> &gt; pairs, const int idxGlobalMin)</td></tr>
<tr class="memdesc:a71cb6bbdcab328ddf0ac92737a15570c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes indices of extrema features to file, sorted according to their persistence.  <a href="#a71cb6bbdcab328ddf0ac92737a15570c">More...</a><br /></td></tr>
<tr class="separator:a71cb6bbdcab328ddf0ac92737a15570c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac35f9ee082d65d36a5ff94f63d6578ec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="persistence1d__driver_8cpp.html#ac35f9ee082d65d36a5ff94f63d6578ec">ParseCmdLine</a> (int argc, char *argv[], float &amp;threshold, bool &amp;matlabIndexing)</td></tr>
<tr class="memdesc:ac35f9ee082d65d36a5ff94f63d6578ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parses user command line.  <a href="#ac35f9ee082d65d36a5ff94f63d6578ec">More...</a><br /></td></tr>
<tr class="separator:ac35f9ee082d65d36a5ff94f63d6578ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="persistence1d__driver_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a0ddf1224851353fc92bfbff6f499fa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main function - reads a file specified as a command line argument.  <a href="#a0ddf1224851353fc92bfbff6f499fa97">More...</a><br /></td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Use this program to run Persistence1D on data in text files. </p>
<p>This file contains a sample code for using Persistence1D on data in text files, and can be used to directly run Persistence1D on data in a single text file.</p>
<p>Command line: persistence1d_driver.exe &lt;filename&gt; [threshold] [-MATLAB]</p><ul>
<li>filename is the path to a data text file. Data is assumed to be formatted as a single float-compatible value per row.</li>
<li>[Optional] threshold is a floating point value. Acceptable threshold value &gt;= 0</li>
<li>[Optional] -MATLAB - output indices match Matlab 1-indexing convention. Output: - Indices of extrema, written to a text file, one value per row. Indices of paired extrema are written in consecutive rows. Indices are ordered according to their persistence, from most to least persistence. Even rows contain indices of minima. Odd rows contain indices of maxima. The global minimum is written in the last line. It is not paired with a maximum. Hence, we have an odd number of lines in the output. Output filename: &lt;filename&gt;_res.txt </li>
</ul>

<p class="definition">Definition in file <a class="el" href="persistence1d__driver_8cpp_source.html">persistence1d_driver.cpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="af0cc74d2fc87451c4d8b4ad8ed28e26d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0cc74d2fc87451c4d8b4ad8ed28e26d">&#9670;&nbsp;</a></span>MATLAB</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MATLAB&#160;&#160;&#160;&quot;-MATLAB&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="persistence1d__driver_8cpp_source.html#l00030">30</a> of file <a class="el" href="persistence1d__driver_8cpp_source.html">persistence1d_driver.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0ddf1224851353fc92bfbff6f499fa97">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main function - reads a file specified as a command line argument. </p>
<p>runs persistence, writes the indices of extrema to a file called inputfilename_res.txt.</p>
<p>Overwrites files with the same name.</p>
<p>Input file name is assumed to end with a three letter extension. </p>

<p class="definition">Definition at line <a class="el" href="persistence1d__driver_8cpp_source.html#l00076">76</a> of file <a class="el" href="persistence1d__driver_8cpp_source.html">persistence1d_driver.cpp</a>.</p>

</div>
</div>
<a id="ac35f9ee082d65d36a5ff94f63d6578ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac35f9ee082d65d36a5ff94f63d6578ec">&#9670;&nbsp;</a></span>ParseCmdLine()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ParseCmdLine </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float &amp;&#160;</td>
          <td class="paramname"><em>threshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>matlabIndexing</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Parses user command line. </p>
<p>Checks if the user set a threshold value or wants MATLAB indexing. </p>

<p class="definition">Definition at line <a class="el" href="persistence1d__driver_8cpp_source.html#l00167">167</a> of file <a class="el" href="persistence1d__driver_8cpp_source.html">persistence1d_driver.cpp</a>.</p>

</div>
</div>
<a id="a2791f890d0435cf7221832aa9b795b02"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2791f890d0435cf7221832aa9b795b02">&#9670;&nbsp;</a></span>ReadFileToVector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ReadFileToVector </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; float &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tries to open the input file and read its contents to a float vector. </p>
<p>Input is assumed to be formatted as one number per line, in float compatible notation.</p>
<p>Ignores any lines which do not conform to this assumption.</p>
<p>Number of data entries is assumed to be smaller than vector's class maximum size - this is not checked!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Name of input file with float data. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">data</td><td>Data is written to this vector. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="persistence1d__driver_8cpp_source.html#l00122">122</a> of file <a class="el" href="persistence1d__driver_8cpp_source.html">persistence1d_driver.cpp</a>.</p>

</div>
</div>
<a id="a71cb6bbdcab328ddf0ac92737a15570c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71cb6bbdcab328ddf0ac92737a15570c">&#9670;&nbsp;</a></span>WriteExtremaToFile()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteExtremaToFile </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vector&lt; <a class="el" href="structp1d_1_1_t_paired_extrema.html">TPairedExtrema</a> &gt;&#160;</td>
          <td class="paramname"><em>pairs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>idxGlobalMin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes indices of extrema features to file, sorted according to their persistence. </p>
<p>If no features were found, writes an empty file.</p>
<p>Overwrites any existing file with the same name.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">filename</td><td>Name of output file. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">pairs</td><td>Pairs of extrema to write. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">idxGlobalMin</td><td>Index of the global minimum. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="persistence1d__driver_8cpp_source.html#l00146">146</a> of file <a class="el" href="persistence1d__driver_8cpp_source.html">persistence1d_driver.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 20 2020 13:00:37 for Persistence 1D incl. Reconstruct1D by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
